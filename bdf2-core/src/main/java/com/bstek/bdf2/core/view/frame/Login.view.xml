<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Arguments/>
  <Context/>
  <Model/>
  <View>
    <ClientEvent name="onReady">var useCaptcha=&quot;${configure.getString(&quot;bdf2.useCaptchaForLogin&quot;)}&quot;;&#xD;
var useRemember=&quot;${configure.getString(&quot;bdf2.useRememberMeForLogin&quot;)}&quot;;&#xD;
window.checkForm=function(){&#xD;
	var errorInfo=$(&quot;#errorInfo&quot;);&#xD;
	var username=$(&quot;#username_&quot;).val();&#xD;
	if(username==&quot;&quot;){&#xD;
		errorInfo.html(&quot;用户名不能为空!&quot;);&#xD;
		$(&quot;#username_&quot;).focus();&#xD;
		return false;&#xD;
	}&#xD;
	var password=$(&quot;#password_&quot;).val();&#xD;
	if(password==&quot;&quot;){&#xD;
		errorInfo.html(&quot;密码不能为空!&quot;);&#xD;
		$(&quot;#password_&quot;).focus();&#xD;
		return false;&#xD;
	}	&#xD;
	var captcha=$(&quot;#captcha_&quot;).val();&#xD;
	if(useCaptcha==&quot;true&quot; &amp;&amp; captcha==&quot;&quot;){&#xD;
		errorInfo.html(&quot;验证码不能为空!&quot;);&#xD;
		$(&quot;#captcha_&quot;).focus();&#xD;
		return false;&#xD;
	}	&#xD;
}&#xD;
function showTime(){&#xD;
	var date = new Date();&#xD;
	&#xD;
	var month = date.getMonth() + 1;  &#xD;
	var day = date.getDate();  &#xD;
	var week = new Array(&quot;星期日&quot;, &quot;星期一&quot;, &quot;星期二&quot;, &quot;星期三&quot;, &quot;星期四&quot;, &quot;星期五&quot;, &quot;星期六&quot;)[date.getDay()];  &#xD;
	&#xD;
	var hour = date.getHours() &lt; 10 ? &quot;0&quot; + date.getHours() : date.getHours();  &#xD;
	var minute = date.getMinutes() &lt; 10 ? &quot;0&quot; + date.getMinutes() : date.getMinutes();  &#xD;
	var second = date.getSeconds() &lt; 10 ? &quot;0&quot; + date.getSeconds() : date.getSeconds();&#xD;
	var timeInfo = hour + &quot;:&quot; + minute + &quot;:&quot; + second;  &#xD;
	$(&quot;#timeInfo&quot;).html(timeInfo);&#xD;
	var noon=&quot;AM&quot;&#xD;
	if(hour>11 &amp;&amp; hour&lt;24){&#xD;
		noon=&quot;PM&quot;;&#xD;
	}&#xD;
	$(&quot;#noon&quot;).html(noon);&#xD;
	$(&quot;#dayMonthInfo&quot;).html(month+&quot;月&quot;+day+&quot;日,&quot;+week);&#xD;
}&#xD;
function layoutLoginContainer(){&#xD;
	var height=$(window).height();&#xD;
	var width=$(window).width();&#xD;
	var bgImgFolder=&quot;${configure.getString(&quot;bdf2.login.backgroundImageFolder&quot;)}&quot;;&#xD;
	var bgImg=&quot;login-bg1.jpg&quot;;&#xD;
	var bgHeight=464;&#xD;
	var loginInfoHeight=380;&#xD;
	if(useCaptcha==&quot;true&quot; &amp;&amp; useRemember==&quot;false&quot;){&#xD;
		loginInfoHeight=360;&#xD;
	}&#xD;
	if(useCaptcha==&quot;false&quot; &amp;&amp; useRemember==&quot;true&quot;){&#xD;
		loginInfoHeight=310;&#xD;
	}	&#xD;
	if(useCaptcha==&quot;false&quot; &amp;&amp; useRemember==&quot;false&quot;){&#xD;
		loginInfoHeight=290;&#xD;
	}		&#xD;
	if(width&lt;1670 &amp;&amp; width>1370){&#xD;
		bgImg=&quot;login-bg2.jpg&quot;;&#xD;
		var bgHeight=543;&#xD;
	}else if(width&lt;1950 &amp;&amp; width>1660){&#xD;
		bgImg=&quot;login-bg3.jpg&quot;;&#xD;
		var bgHeight=652;&#xD;
	}else if(width>1950){&#xD;
		bgImg=&quot;login-bg4.jpg&quot;;&#xD;
		var bgHeight=869;&#xD;
	}&#xD;
	var container=$(&quot;#loginContainer&quot;);&#xD;
	container.css(&quot;position&quot;,&quot;absolute&quot;);&#xD;
	container.css(&quot;top&quot;,(height-bgHeight)/2);&#xD;
	container.css(&quot;background&quot;,&quot;url(&quot;+bgImgFolder+&quot;/&quot;+bgImg+&quot;)&quot;);&#xD;
	container.css(&quot;height&quot;,bgHeight+&quot;px&quot;);&#xD;
	container.css(&quot;width&quot;,&quot;100%&quot;);&#xD;
	var loginInfo=$(&quot;#loginInfo&quot;);&#xD;
	loginInfo.css(&quot;position&quot;,&quot;absolute&quot;);&#xD;
	loginInfo.css(&quot;right&quot;,&quot;100px&quot;);&#xD;
	loginInfo.css(&quot;height&quot;,loginInfoHeight+&quot;px&quot;);&#xD;
	loginInfo.css(&quot;top&quot;,(bgHeight-loginInfoHeight)/2+&quot;px&quot;);&#xD;
	&#xD;
	var titleContainer=$(&quot;#titleContainer&quot;);&#xD;
	titleContainer.css(&quot;position&quot;,&quot;absolute&quot;);&#xD;
	titleContainer.css(&quot;left&quot;,&quot;20px&quot;);&#xD;
	titleContainer.css(&quot;top&quot;,(height-bgHeight)/2-55);&#xD;
}&#xD;
$(window).resize(function(){&#xD;
	layoutLoginContainer();&#xD;
});&#xD;
$(document).ready(function(){&#xD;
	layoutLoginContainer();&#xD;
	var container=$(&quot;#loginContainer&quot;);&#xD;
	showTime();&#xD;
	window.setInterval(function(){&#xD;
		showTime();&#xD;
	},1000);&#xD;
	var showType=Math.floor(Math.random()*10);&#xD;
	if(showType&lt;2){&#xD;
		container.slideDown(500);&#xD;
	}else if(showType>1 &amp;&amp; showType&lt;3){&#xD;
		container.show(500);&#xD;
	}else if(showType>2 &amp;&amp; showType&lt;5){&#xD;
		container.fadeIn(500);&#xD;
	}else if(showType>4 &amp;&amp; showType&lt;7){&#xD;
		container.slideToggle(500);&#xD;
	}else{&#xD;
		container.fadeIn(500);&#xD;
	}&#xD;
	$(&quot;#captchaImg&quot;).click(function(){&#xD;
		this.src=&quot;${request.getContextPath()}${configure.getString(&quot;bdf2.generateCaptchaUrl&quot;)}${configure.getString(&quot;bdf2.controllerSuffix&quot;)}?width=181&amp;height=60&amp;random=&quot;+Math.random();&#xD;
	});&#xD;
	var error=&quot;${authenticationExceptionMessage}&quot;;&#xD;
	if(error &amp;&amp; error!=&quot;&quot;){&#xD;
		if(error==&quot;Bad credentials&quot;)error=&quot;用户名或密码不正确&quot;;&#xD;
		$(&quot;#errorInfo&quot;).html(error);&#xD;
	}&#xD;
	if(useRemember==&quot;true&quot;){&#xD;
		$(&quot;#rememberMeContainer&quot;).show();&#xD;
	}else{&#xD;
		$(&quot;#rememberMeContainer&quot;).hide();&#xD;
	}&#xD;
	if(useCaptcha==&quot;true&quot;){&#xD;
		$(&quot;#captchaContainer&quot;).show();&#xD;
	}else{&#xD;
		$(&quot;#captchaContainer&quot;).hide();&#xD;
	}	&#xD;
	$(&quot;#username_&quot;).focus();&#xD;
});</ClientEvent>
    <HtmlContainer>
      <Property name="content">&lt;div id=&quot;titleContainer&quot; style=&quot;color:#40403f&quot;>&lt;h1>${configure.getString(&quot;bdf2.application.title&quot;)}&lt;/h1>&lt;/div>&#xD;
&lt;div id=&quot;loginContainer&quot; style=&quot;display:none;font-family:微软雅黑;background-repeat:no-repeat;background-position: center top&quot;>&#xD;
	&lt;div id=&quot;timeInfoContainer&quot; style=&quot;position:absolute;top:20px;left:20px;display:block;color:#fff&quot;>&#xD;
		&lt;div id=&quot;noon&quot; style=&quot;font-size:12px&quot;>&lt;/div>&#xD;
		&lt;div id=&quot;timeInfo&quot; style=&quot;font-size:60px;&quot;>&lt;/div>&#xD;
		&lt;div id=&quot;dayMonthInfo&quot; style=&quot;font-size:36px;&quot;>&lt;/div>&#xD;
	&lt;/div>&#xD;
	&lt;div id=&quot;loginInfo&quot; style=&quot;border:solid 1px green;background:#FDFDFD;width:320px&quot;>&#xD;
		&lt;div style=&quot;margin:20px&quot;>&#xD;
			&lt;div style=&quot;font-size:24px;color:#0094da;height:50px&quot;>用户登录&lt;/div>&#xD;
			&lt;div align=&quot;right&quot; style=&quot;margin-right:20px;margin-bottom:5px;font-size:14px;color:red&quot; id=&quot;errorInfo&quot;>&lt;/div>&#xD;
			&lt;div style=&quot;margin-right:20px&quot;>&#xD;
			&lt;form name=&quot;loginForm&quot; onsubmit=&quot;return checkForm()&quot; method=&quot;post&quot; action=&quot;${request.getContextPath()}${configure.getString(&quot;bdf2.loginProcessUrl&quot;)}&quot;>&#xD;
				&lt;div  align=&quot;right&quot; style=&quot;color:#999;font-size:14px;height:42px&quot;>&#xD;
					用户名：&lt;input id=&quot;username_&quot; tabindex=&quot;1&quot; style=&quot;font-size:18px;height:24px;line-height:22px;width:180px;border:solid 1px #999999&quot; type=&quot;text&quot; name=&quot;username_&quot;>&lt;/input>&#xD;
				&lt;/div>&#xD;
				&lt;div align=&quot;right&quot; style=&quot;color:#999;font-size:14px;height:42px&quot;>&#xD;
					密码：&lt;input tabindex=&quot;2&quot; style=&quot;font-size:18px;height:24px;line-height:22px;width:180px;border:solid 1px #999999&quot; type=&quot;password&quot; id=&quot;password_&quot; name=&quot;password_&quot;>&lt;/input>&#xD;
				&lt;/div>&#xD;
				&lt;div id=&quot;captchaContainer&quot; align=&quot;right&quot; style=&quot;color:#999;font-size:14px;height:95px&quot;>&#xD;
					验证码：&lt;input tabindex=&quot;3&quot; style=&quot;font-size:18px;height:24px;line-height:22px;width:180px;border:solid 1px #999999&quot; type=&quot;text&quot; id=&quot;captcha_&quot; name=&quot;captcha_&quot;>&lt;/input>&#xD;
					&lt;img style=&quot;margin-top:2px&quot; id=&quot;captchaImg&quot; src=&quot;${request.getContextPath()}${configure.getString(&quot;bdf2.generateCaptchaUrl&quot;)}${configure.getString(&quot;bdf2.controllerSuffix&quot;)}?width=181&amp;height=60&quot;/>&#xD;
				&lt;/div>&#xD;
				&lt;div id=&quot;rememberMeContainer&quot; align=&quot;right&quot; style=&quot;color:#999;font-size:14px;height:33px&quot;>&#xD;
					自动登录&lt;input type=&quot;checkbox&quot; name=&quot;remember_me_&quot;>&lt;/input>&#xD;
				&lt;/div>&#xD;
				&lt;div align=&quot;right&quot; style=&quot;line-height:80px&quot;>&#xD;
					&lt;input style=&quot;width:120px;height:42px;line-height:40px;font-size:20px;text-align:center;&quot; type=&quot;submit&quot; name=&quot;btn_Login&quot; value=&quot;登  录&quot;>&#xD;
				&lt;/div>&#xD;
				&#xD;
			&lt;/form>&#xD;
			&lt;/div>&#xD;
		&lt;/div>&#xD;
	&lt;/div>&#xD;
&lt;/div></Property>
    </HtmlContainer>
  </View>
</ViewConfig>
